{"ast":null,"code":"import { StudentModel } from './student.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../shared/api.service\";\nimport * as i3 from \"@angular/common\";\nfunction StudentComponent_tr_23_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\")(12, \"input\", 30);\n    i0.ɵɵlistener(\"click\", function StudentComponent_tr_23_Template_input_click_12_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const student_r3 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.editStudent(student_r3));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"input\", 31);\n    i0.ɵɵlistener(\"click\", function StudentComponent_tr_23_Template_input_click_13_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const student_r3 = restoredCtx.$implicit;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.deleteStudent(student_r3));\n    });\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const student_r3 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(student_r3.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(student_r3.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(student_r3.class);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(student_r3.email);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(student_r3.mobile);\n  }\n}\nfunction StudentComponent_button_54_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 32);\n    i0.ɵɵlistener(\"click\", function StudentComponent_button_54_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.AddStudent());\n    });\n    i0.ɵɵtext(1, \"Register\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction StudentComponent_button_55_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 32);\n    i0.ɵɵlistener(\"click\", function StudentComponent_button_55_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.UpdateStudent());\n    });\n    i0.ɵɵtext(1, \"Update\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class StudentComponent {\n  constructor(formBuilder, api) {\n    this.formBuilder = formBuilder;\n    this.api = api;\n    this.studentObj = new StudentModel();\n    this.btnSaveShow = true;\n    this.btnUpdateShow = false;\n  }\n  ngOnInit() {\n    this.studentValue = this.formBuilder.group({\n      name: [''],\n      class: [''],\n      email: [''],\n      mobile: ['']\n    });\n    this.AllStudent();\n  }\n  AddStudent() {\n    this.studentObj.name = this.studentValue.value.name;\n    this.studentObj.class = this.studentValue.value.class;\n    this.studentObj.mobile = this.studentValue.value.mobile;\n    this.studentObj.email = this.studentValue.value.email;\n    this.api.postStudent(this.studentObj).subscribe({\n      next: v => {\n        console.log(v);\n      },\n      error: e => {\n        alert(\"Error\");\n        console.log(e);\n      },\n      complete: () => {\n        console.log(\"Student record added!\");\n        alert(\"Student record added!\");\n        this.AllStudent();\n        //this.studentValue.reset();\n      }\n    });\n  }\n\n  AllStudent() {\n    this.api.getStudent().subscribe(res => {\n      this.studentList = res;\n    });\n  }\n  deleteStudent(data) {\n    this.api.deleteStudent(data.id).subscribe({\n      next: v => {\n        console.log(v);\n      },\n      error: e => {\n        alert(\"Error\");\n        console.log(e);\n      },\n      complete: () => {\n        console.log(\"Student record deleted!\");\n        alert(\"Student record deleted!\");\n        this.AllStudent();\n      }\n    });\n  }\n  editStudent(data) {\n    this.studentValue.controls[\"name\"].setValue(data.name);\n    this.studentValue.controls[\"class\"].setValue(data.class);\n    this.studentValue.controls[\"email\"].setValue(data.email);\n    this.studentValue.controls[\"mobile\"].setValue(data.mobile);\n    this.studentObj.id = data.id;\n    this.showUpdate();\n  }\n  UpdateStudent() {\n    this.studentObj.name = this.studentValue.value.name;\n    this.studentObj.class = this.studentValue.value.class;\n    this.studentObj.mobile = this.studentValue.value.mobile;\n    this.studentObj.email = this.studentValue.value.email;\n    this.api.putStudent(this.studentObj, this.studentObj.id).subscribe({\n      next: v => {\n        console.log(v);\n      },\n      error: e => {\n        alert(\"Error\");\n        console.log(e);\n      },\n      complete: () => {\n        console.log(\"Student record apdated!\");\n        alert(\"Student record apdated!\");\n        this.AllStudent();\n        this.studentValue.reset();\n        this.showSave();\n        this.studentObj.id = 0;\n      }\n    });\n  }\n  showSave() {\n    this.btnSaveShow = true;\n    this.btnUpdateShow = false;\n  }\n  showUpdate() {\n    this.btnSaveShow = false;\n    this.btnUpdateShow = true;\n  }\n}\nStudentComponent.ɵfac = function StudentComponent_Factory(t) {\n  return new (t || StudentComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.ApiService));\n};\nStudentComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: StudentComponent,\n  selectors: [[\"app-student\"]],\n  decls: 56,\n  vars: 4,\n  consts: [[1, \"container\"], [1, \"navbar\", \"navbar-expand-lg\", \"navbar-light\", \"bg-primary\"], [1, \"container-fluid\"], [\"href\", \"#\", 1, \"navbar-brand\"], [\"id\", \"navbarSupportedContent\", 1, \"collapse\", \"navbar-collapse\"], [1, \"d-flex\"], [\"data-bs-toggle\", \"modal\", \"data-bs-target\", \"#staticBackdrop\", \"type\", \"submit\", 1, \"btn\", \"btn-success\"], [1, \"table\", \"table-striped\", \"table-hover\"], [4, \"ngFor\", \"ngForOf\"], [\"id\", \"staticBackdrop\", \"data-bs-backdrop\", \"static\", \"data-bs-keyboard\", \"false\", \"tabindex\", \"-1\", \"aria-labelledby\", \"staticBackdropLabel\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [1, \"modal-dialog\"], [1, \"modal-content\"], [1, \"modal-header\"], [\"id\", \"staticBackdropLabel\", 1, \"modal-title\"], [1, \"modal-body\"], [3, \"formGroup\"], [1, \"mb-3\"], [\"for\", \"txtName\", 1, \"form-label\"], [\"type\", \"text\", \"formControlName\", \"name\", \"id\", \"txtName\", \"placeholder\", \"Enter your name\", 1, \"form-control\"], [\"for\", \"txtClass\", 1, \"form-label\"], [\"type\", \"text\", \"formControlName\", \"class\", \"id\", \"txtClass\", \"placeholder\", \"Enter your class\", 1, \"form-control\"], [\"for\", \"txtEmail\", 1, \"form-label\"], [\"type\", \"email\", \"formControlName\", \"email\", \"id\", \"txtEmail\", \"placeholder\", \"Enter your email\", 1, \"form-control\"], [\"for\", \"txtMobile\", 1, \"form-label\"], [1, \"input-group\"], [1, \"input-group-text\"], [\"type\", \"text\", \"formControlName\", \"mobile\", \"id\", \"txtMobile\", \"placeholder\", \"Enter your mobile number\", 1, \"form-control\"], [1, \"modal-footer\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", 1, \"btn\", \"btn-warning\"], [\"type\", \"button\", \"class\", \"btn btn-primary\", \"data-bs-dismiss\", \"modal\", 3, \"click\", 4, \"ngIf\"], [\"type\", \"button\", \"data-bs-toggle\", \"modal\", \"data-bs-target\", \"#staticBackdrop\", \"value\", \"Edit\", 1, \"btn\", \"btn-success\", \"me-2\", 3, \"click\"], [\"type\", \"button\", \"value\", \"Delete\", 1, \"btn\", \"btn-danger\", 3, \"click\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", 1, \"btn\", \"btn-primary\", 3, \"click\"]],\n  template: function StudentComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"nav\", 1)(2, \"div\", 2)(3, \"a\", 3);\n      i0.ɵɵtext(4, \"Student Dashboard\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"div\", 4)(6, \"div\", 5)(7, \"button\", 6);\n      i0.ɵɵtext(8, \"Add Student\");\n      i0.ɵɵelementEnd()()()()();\n      i0.ɵɵelementStart(9, \"table\", 7)(10, \"thead\")(11, \"tr\")(12, \"th\");\n      i0.ɵɵtext(13, \"Id\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"th\");\n      i0.ɵɵtext(15, \"Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"th\");\n      i0.ɵɵtext(17, \"Class\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"th\");\n      i0.ɵɵtext(19, \"Email\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"th\");\n      i0.ɵɵtext(21, \"Mobile\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(22, \"tbody\");\n      i0.ɵɵtemplate(23, StudentComponent_tr_23_Template, 14, 5, \"tr\", 8);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(24, \"div\", 9)(25, \"div\", 10)(26, \"div\", 11)(27, \"div\", 12)(28, \"h5\", 13);\n      i0.ɵɵtext(29, \"Student Registration\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(30, \"div\", 14)(31, \"form\", 15)(32, \"div\", 16)(33, \"label\", 17);\n      i0.ɵɵtext(34, \"Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(35, \"input\", 18);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(36, \"div\", 16)(37, \"label\", 19);\n      i0.ɵɵtext(38, \"Class\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(39, \"input\", 20);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(40, \"div\", 16)(41, \"label\", 21);\n      i0.ɵɵtext(42, \"Email Id\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(43, \"input\", 22);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(44, \"div\", 16)(45, \"label\", 23);\n      i0.ɵɵtext(46, \"Mobile\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(47, \"div\", 24)(48, \"div\", 25);\n      i0.ɵɵtext(49, \"+216\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(50, \"input\", 26);\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(51, \"div\", 27)(52, \"button\", 28);\n      i0.ɵɵtext(53, \"Close\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(54, StudentComponent_button_54_Template, 2, 0, \"button\", 29);\n      i0.ɵɵtemplate(55, StudentComponent_button_55_Template, 2, 0, \"button\", 29);\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(23);\n      i0.ɵɵproperty(\"ngForOf\", ctx.studentList);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"formGroup\", ctx.studentValue);\n      i0.ɵɵadvance(23);\n      i0.ɵɵproperty(\"ngIf\", ctx.btnSaveShow);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.btnUpdateShow);\n    }\n  },\n  dependencies: [i3.NgForOf, i3.NgIf, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["StudentModel","i0","StudentComponent","constructor","formBuilder","api","ngOnInit","studentValue","group","name","class","email","mobile","AllStudent","AddStudent","studentObj","value","postStudent","subscribe","next","v","console","log","error","e","alert","complete","getStudent","res","studentList","deleteStudent","data","id","editStudent","controls","setValue","showUpdate","UpdateStudent","putStudent","reset","showSave","btnSaveShow","btnUpdateShow","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["D:\\testAngular\\Angular\\src\\app\\student\\student.component.ts","D:\\testAngular\\Angular\\src\\app\\student\\student.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup } from '@angular/forms';\nimport { ApiService } from '../shared/api.service';\nimport { StudentModel } from './student.model';\n\n\n@Component({\n  selector: 'app-student', \n  templateUrl: './student.component.html',\n  styleUrls: ['./student.component.css']\n})\nexport class StudentComponent implements OnInit {\n     \n  studentValue!:FormGroup;\n  studentObj:StudentModel= new StudentModel;\n  studentList:any;\n  btnSaveShow:boolean=true;\n  btnUpdateShow:boolean=false;\n\n  constructor(private formBuilder: FormBuilder, private api: ApiService ) { }\n\n  ngOnInit(): void{\n       this.studentValue = this.formBuilder.group({\n        name:[''],\n        class:[''],\n        email:[''],\n        mobile:['']\n       })\n       this.AllStudent();\n  }\n  AddStudent(){\n      this.studentObj.name = this.studentValue.value.name;\n      this.studentObj.class = this.studentValue.value.class;\n      this.studentObj.mobile = this.studentValue.value.mobile;\n      this.studentObj.email = this.studentValue.value.email;\n\n      this.api.postStudent(this.studentObj).subscribe({\n        next: (v) => {\n        console.log(v)\n      },\n      error: (e) =>{\n        alert(\"Error\")\n        console.log(e)       \n      },\n      complete: () => {\n        console.log(\"Student record added!\")\n        alert(\"Student record added!\")\n        this.AllStudent();\n        //this.studentValue.reset();\n      }\n    })\n  }\n    AllStudent(){\n         this.api.getStudent().subscribe(res => {\n          this.studentList = res;\n         })\n    }\n  deleteStudent(data:any){\n    this.api.deleteStudent(data.id).subscribe(\n      \n      {next: (v) => {\n      console.log(v)\n    },\n    error: (e) =>{\n      alert(\"Error\")\n      console.log(e)       \n    },\n    complete: () => {\n      console.log(\"Student record deleted!\")\n      alert(\"Student record deleted!\")\n      this.AllStudent();\n    }\n    })\n  }\n  editStudent(data:any){\n    this.studentValue.controls[\"name\"].setValue(data.name);\n    this.studentValue.controls[\"class\"].setValue(data.class);\n    this.studentValue.controls[\"email\"].setValue(data.email);\n    this.studentValue.controls[\"mobile\"].setValue(data.mobile);\n    this.studentObj.id = data.id;\n    this.showUpdate();\n  }\n\n  UpdateStudent(){\n    this.studentObj.name = this.studentValue.value.name;\n    this.studentObj.class = this.studentValue.value.class;\n    this.studentObj.mobile = this.studentValue.value.mobile;\n    this.studentObj.email = this.studentValue.value.email;\n\n    this.api.putStudent(this.studentObj, this.studentObj.id).subscribe({\n      next: (v) => {\n      console.log(v)\n    },\n    error: (e) =>{\n      alert(\"Error\")\n      console.log(e)       \n    },\n    complete: () => {\n      console.log(\"Student record apdated!\")\n      alert(\"Student record apdated!\")\n      this.AllStudent();\n      this.studentValue.reset();\n      this.showSave();\n      this.studentObj.id = 0;\n\n    }\n  })\n}\nshowSave(){\n  this.btnSaveShow=true;\n  this.btnUpdateShow=false;\n}\nshowUpdate(){\n  this.btnSaveShow=false;\n  this.btnUpdateShow=true;\n}\n}\n","<div class=\"container\">\n    <nav class=\"navbar navbar-expand-lg navbar-light bg-primary\">\n        <div class=\"container-fluid\">\n          <a class=\"navbar-brand\" href=\"#\">Student Dashboard</a>\n          \n          <div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n            \n            <div class=\"d-flex\">\n              <button class=\"btn btn-success\" data-bs-toggle=\"modal\" data-bs-target=\"#staticBackdrop\" type=\"submit\">Add Student</button>\n            </div>\n          </div>\n        </div>\n      </nav>\n      <table class=\"table table-striped table-hover\">\n        <thead>\n            <tr>\n                <th>Id</th>\n                <th>Name</th>\n                <th>Class</th>\n                <th>Email</th>\n                <th>Mobile</th>\n\n            </tr>\n        </thead>\n        <tbody>\n            <tr *ngFor=\"let student of studentList\">\n                <td>{{student.id}}</td>\n                <td>{{student.name}}</td>\n                <td>{{student.class}}</td>\n                <td>{{student.email}}</td>\n                <td>{{student.mobile}}</td>\n                <td>\n                    <input type=\"button\" data-bs-toggle=\"modal\" (click)=\"editStudent(student)\" data-bs-target=\"#staticBackdrop\" value=\"Edit\" class=\"btn btn-success me-2\"/>\n                    <input type=\"button\" value=\"Delete\" (click)=\"deleteStudent(student)\" class=\"btn btn-danger\"/>\n\n                </td>\n\n            </tr>\n        </tbody>\n      </table>\n</div>\n\n\n<!-- Modal -->\n<div class=\"modal fade\" id=\"staticBackdrop\" data-bs-backdrop=\"static\" data-bs-keyboard=\"false\" tabindex=\"-1\" aria-labelledby=\"staticBackdropLabel\" aria-hidden=\"true\">\n  <div class=\"modal-dialog\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <h5 class=\"modal-title\" id=\"staticBackdropLabel\">Student Registration</h5>\n      </div>\n      <div class=\"modal-body\">\n        <form [formGroup]=\"studentValue\">\n          <div class=\"mb-3\">\n            <label for=\"txtName\" class=\"form-label\">Name</label>\n            <input type=\"text\" formControlName=\"name\" class=\"form-control\" id=\"txtName\" placeholder=\"Enter your name\">\n          </div>\n          <div class=\"mb-3\">\n            <label for=\"txtClass\" class=\"form-label\">Class</label>\n            <input type=\"text\" formControlName=\"class\" class=\"form-control\" id=\"txtClass\" placeholder=\"Enter your class\">\n          </div>\n          <div class=\"mb-3\">\n            <label for=\"txtEmail\" class=\"form-label\">Email Id</label>\n            <input type=\"email\" formControlName=\"email\" class=\"form-control\" id=\"txtEmail\" placeholder=\"Enter your email\">\n          </div>\n          <div class=\"mb-3\">\n            <label for=\"txtMobile\" class=\"form-label\">Mobile</label>\n            <div class=\"input-group\">\n              <div class=\"input-group-text\">+216</div>\n            <input type=\"text\" formControlName=\"mobile\" class=\"form-control\" id=\"txtMobile\" placeholder=\"Enter your mobile number\">\n          </div>\n        </div>\n        </form>\n      </div>\n      <div class=\"modal-footer\">\n        <button type=\"button\" class=\"btn btn-warning\" data-bs-dismiss=\"modal\">Close</button>\n        <button type=\"button\" *ngIf=\"btnSaveShow\" class=\"btn btn-primary\" data-bs-dismiss=\"modal\" (click)=\"AddStudent()\">Register</button>\n        <button type=\"button\" *ngIf=\"btnUpdateShow\" class=\"btn btn-primary\" data-bs-dismiss=\"modal\" (click)=\"UpdateStudent()\">Update</button>\n\n      </div>\n    </div>\n  </div>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}